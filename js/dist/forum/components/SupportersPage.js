"use strict";(self.webpackChunkmodule_exports=self.webpackChunkmodule_exports||[]).push([[314],{535(r,t,e){e.d(t,{A:()=>f});var s=e(488),a=e.n(s),o=e(950),n=e.n(o),u=e(233),i=e.n(u),p=e(906),l=e.n(p),c=e(625),d=e.n(c);class f extends(n()){view(r){const t=this.statsItems();return t.isEmpty()?null:m("div",{className:"ImpactStats"},m("div",{className:"container"},m("div",{className:"ImpactStats-grid"},t.toArray())))}statsItems(){const r=new(l()),t=a().forum.attribute("totalSupporters")||0;r.add("supporters",this.statItem({icon:"fas fa-users",value:t,label:i()(a().translator.trans("flarum-discuss.forum.supporters.stats.supporters"))}),100);const e=a().forum.attribute("githubStars")||0;r.add("github-stars",this.statItem({icon:"fab fa-github",value:e,label:i()(a().translator.trans("flarum-discuss.forum.supporters.stats.github_stars"))}),90);const s=a().forum.attribute("frameworkCommits")||0;r.add("framework-commits",this.statItem({icon:"fas fa-code-branch",value:s,label:i()(a().translator.trans("flarum-discuss.forum.supporters.stats.framework_commits"))}),80);const o=a().forum.attribute("frameworkContributors")||0;return r.add("framework-contributors",this.statItem({icon:"fas fa-user-friends",value:o,label:i()(a().translator.trans("flarum-discuss.forum.supporters.stats.framework_contributors"))}),70),r}statItem(r){return m("div",{className:"ImpactStat"},m("div",{className:"ImpactStat-icon"},m("i",{className:r.icon,"aria-hidden":"true"})),m("div",{className:"ImpactStat-content"},m("div",{className:"ImpactStat-value"},d()(r.value)),m("div",{className:"ImpactStat-label"},r.label)))}}flarum.reg.add("flarum-discuss","forum/components/ImpactStats",f)},648(r,t,e){e.d(t,{A:()=>p});var s=e(859),a=e.n(s),o=e(314),n=e.n(o),u=e(402),i=e.n(u);class p extends(a()){view(){return m(n(),{className:"".concat(this.pageClass()," InfoPage Page--vertical"),hero:this.hero.bind(this),sidebar:this.sidebar.bind(this)},this.contentItems().toArray())}hero(){const r=this.heroTitle(),t=this.heroSubtitle(),e=this.heroCta();return m("header",{className:"InfoPage-hero Hero"},m("div",{className:"container"},m("div",{className:"InfoPage-heroContent"},m("h1",{className:"InfoPage-heroTitle"},r),t&&m("p",{className:"InfoPage-heroSubtitle"},t),e)))}heroSubtitle(){return null}heroCta(){return null}sidebar(){return m(i(),null)}}flarum.reg.add("flarum-discuss","forum/components/BaseInfoPage",p)},742(r,t,e){function s(r){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},s(r)}function a(r,t,e){return(t=function(r){var t=function(r){if("object"!=s(r)||!r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var e=t.call(r,"string");if("object"!=s(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==s(t)?t:t+""}(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}e.r(t),e.d(t,{default:()=>q});var o=e(488),n=e.n(o),u=e(661),i=e.n(u),p=e(906),l=e.n(p),c=e(233),d=e.n(c),f=e(801),h=e.n(f),S=e(336),g=e.n(S),v=e(648),b=e(950),N=e.n(b),y=e(917),w=e.n(y),T=e(521),_=e.n(T),P=e(88),A=e.n(P);class I extends(N()){view(r){const t=this.attrs.user,e=this.attrs.featured||!1;return m("div",{className:"SupporterCard".concat(e?" SupporterCard--featured":"")},m(A(),{href:n().route.user(t),className:"SupporterCard-link"},m("div",{className:"SupporterCard-avatar"},m(w(),{user:t,loading:"lazy"})),m("div",{className:"SupporterCard-info"},m("h3",{className:"SupporterCard-username"},_()(t)),e&&this.renderBio(t))))}renderBio(r){const t=r.attribute("bioHtml");if(t&&t.trim())return m("div",{className:"SupporterCard-bio"},m.trust(t));const e=r.attribute("bio");if(e&&e.trim().length>0){const r=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>");return m("div",{className:"SupporterCard-bio"},m.trust(r))}return null}}flarum.reg.add("flarum-discuss","forum/components/SupporterCard",I);var C=e(535);class q extends v.A{constructor(){super(...arguments),a(this,"loadingMonthly",!1),a(this,"loadingOneTime",!1),a(this,"monthlySupporers",[]),a(this,"supporters",[])}oninit(r){super.oninit(r),n().history.push("supporters",d()(n().translator.trans("flarum-discuss.forum.supporters.title"))),this.bodyClass="SupportersPage",this.loadSupporters()}oncreate(r){super.oncreate(r),n().setTitle(d()(n().translator.trans("flarum-discuss.forum.supporters.meta_title"))),n().setTitleCount(0),this.handleHashNavigation()}handleHashNavigation(){const r=window.location.hash;r&&setTimeout(()=>{const t=document.querySelector(r);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},100)}loadSupporters(){const r=n().preloadedApiDocument();if(r)return void this.processSupporters(r);const t=n().forum.attribute("monthlySupportersGroupId"),e=n().forum.attribute("oneTimeSupportersGroupId");t&&(this.loadingMonthly=!0,n().store.find("users",{filter:{q:"group:".concat(t)},include:"groups",page:{limit:500},sort:"-commentCount"}).then(r=>{this.monthlySupporers=Array.isArray(r)?r:[],this.loadingMonthly=!1,m.redraw()}).catch(r=>{console.error("Error loading monthly supporters:",r),this.loadingMonthly=!1,m.redraw()})),e&&(this.loadingOneTime=!0,n().store.find("users",{filter:{q:"group:".concat(e)},include:"groups",page:{limit:500},sort:"-commentCount"}).then(r=>{this.supporters=Array.isArray(r)?r:[],this.loadingOneTime=!1,m.redraw()}).catch(r=>{console.error("Error loading one-time supporters:",r),this.loadingOneTime=!1,m.redraw()}))}processSupporters(r){const t=n().forum.attribute("monthlySupportersGroupId"),e=n().forum.attribute("oneTimeSupportersGroupId");this.monthlySupporers=r.filter(r=>{const e=r.groups();return e&&Array.isArray(e)&&e.some(r=>(null==r?void 0:r.id())===t)}),this.supporters=r.filter(r=>{const t=r.groups();return t&&Array.isArray(t)&&t.some(r=>(null==r?void 0:r.id())===e)})}pageClass(){return"SupportersPage"}heroTitle(){return n().translator.trans("flarum-discuss.forum.supporters.hero_title")}heroSubtitle(){return n().translator.trans("flarum-discuss.forum.supporters.hero_subtitle")}contentItems(){const r=new(l());return r.add("introduction",this.introSection(),100),r.add("impactStats",m(C.A,null),95),n().forum.attribute("monthlySupportersGroupId")&&r.add("monthlySupporers",this.monthlySupportersSection(),90),n().forum.attribute("oneTimeSupportersGroupId")&&r.add("supporters",this.supportersSection(),80),r.add("howToAppear",this.howToAppearSection(),70),r}introSection(){return m("div",{className:"SupportersPage-intro"},m("div",{className:"SupportersPage-introContent"},m("div",{className:"SupportersPage-introImage"},m("img",{src:"/assets/extensions/flarum-discuss/heart-community.avif",alt:"Community supporters",loading:"lazy"})),m("div",{className:"SupportersPage-introText"},m("p",null,n().translator.trans("flarum-discuss.forum.supporters.intro_text")),m("div",{className:"SupportersPage-introActions"},m(g(),{icon:"fas fa-heart",className:"Button Button--primary",onclick:()=>m.route.set(n().route("contribute"))},n().translator.trans("flarum-discuss.forum.supporters.become_supporter_button"))))))}monthlySupportersSection(){return m("div",{className:"SupportersPage-section SupportersPage-monthlySection"},m("div",{className:"SupportersPage-container"},m("div",{className:"SupportersPage-sectionHeader"},m("h2",{className:"SupportersPage-sectionTitle"},m(h(),{name:"fas fa-star"}),n().translator.trans("flarum-discuss.forum.supporters.monthly_supporters_title")),m("p",{className:"SupportersPage-sectionDescription"},n().translator.trans("flarum-discuss.forum.supporters.monthly_supporters_description"))),m("div",{className:"SupporterCards SupporterCards--grid"},this.loadingMonthly?m(i(),null):this.monthlySupporers.length>0?this.monthlySupporers.map(r=>m(I,{user:r,featured:!0})):m("div",{className:"SupportersPage-emptyState"},m(h(),{name:"fas fa-heart"}),m("p",null,n().translator.trans("flarum-discuss.forum.supporters.no_monthly_yet"))))))}supportersSection(){return m("div",{className:"SupportersPage-section"},m("div",{className:"SupportersPage-container"},m("div",{className:"SupportersPage-sectionHeader"},m("h2",{className:"SupportersPage-sectionTitle"},m(h(),{name:"fas fa-heart"}),n().translator.trans("flarum-discuss.forum.supporters.supporters_title")),m("p",{className:"SupportersPage-sectionDescription"},n().translator.trans("flarum-discuss.forum.supporters.supporters_description"))),m("div",{className:"SupporterCards SupporterCards--grid"},this.loadingOneTime?m(i(),null):this.supporters.length>0?this.supporters.map(r=>m(I,{user:r})):m("div",{className:"SupportersPage-emptyState"},m(h(),{name:"fas fa-heart"}),m("p",null,n().translator.trans("flarum-discuss.forum.supporters.no_supporters_yet"))))))}howToAppearSection(){return m("div",{className:"SupportersPage-section SupportersPage-howToAppear"},m("div",{className:"SupportersPage-container"},m("div",{className:"SupportersPage-sectionHeader"},m("h2",{className:"SupportersPage-sectionTitle"},m(h(),{name:"fas fa-question-circle"}),n().translator.trans("flarum-discuss.forum.supporters.how_to_appear_title")),m("p",{className:"SupportersPage-sectionDescription"},n().translator.trans("flarum-discuss.forum.supporters.how_to_appear_description"))),m("div",{className:"HowToAppear"},m("div",{className:"HowToAppear-requirements"},m("div",{className:"HowToAppear-requirement"},m("div",{className:"HowToAppear-requirementIcon"},m(h(),{name:"fas fa-user-circle"})),m("h3",{className:"HowToAppear-requirementTitle"},n().translator.trans("flarum-discuss.forum.supporters.requirement_account_title")),m("p",{className:"HowToAppear-requirementText"},n().translator.trans("flarum-discuss.forum.supporters.requirement_account_text"))),m("div",{className:"HowToAppear-requirement"},m("div",{className:"HowToAppear-requirementIcon"},m(h(),{name:"fab fa-github"})),m("h3",{className:"HowToAppear-requirementTitle"},n().translator.trans("flarum-discuss.forum.supporters.requirement_github_title")),m("p",{className:"HowToAppear-requirementText"},n().translator.trans("flarum-discuss.forum.supporters.requirement_github_text"))),m("div",{className:"HowToAppear-requirement"},m("div",{className:"HowToAppear-requirementIcon"},m(h(),{name:"fas fa-hand-holding-heart"})),m("h3",{className:"HowToAppear-requirementTitle"},n().translator.trans("flarum-discuss.forum.supporters.requirement_opencollective_title")),m("p",{className:"HowToAppear-requirementText"},n().translator.trans("flarum-discuss.forum.supporters.requirement_opencollective_text")))))))}}flarum.reg.add("flarum-discuss","forum/components/SupportersPage",q)}}]);
//# sourceMappingURL=SupportersPage.js.map