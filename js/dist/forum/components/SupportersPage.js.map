{"version":3,"file":"forum/components/SupportersPage.js","mappings":"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","sources":["webpack://@flarum/discuss/./src/forum/components/ImpactStats.tsx","webpack://@flarum/discuss/./src/forum/components/BaseInfoPage.tsx","webpack://@flarum/discuss/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://@flarum/discuss/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://@flarum/discuss/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://@flarum/discuss/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://@flarum/discuss/./src/forum/components/SupporterCard.tsx","webpack://@flarum/discuss/./src/forum/components/SupportersPage.tsx"],"sourcesContent":["import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport extractText from 'flarum/common/utils/extractText';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport abbreviateNumber from 'flarum/common/utils/abbreviateNumber';\n/**\n * The `ImpactStats` component displays key metrics about Flarum's impact\n * and community support.\n */\nexport default class ImpactStats extends Component {\n  view(vnode) {\n    const stats = this.statsItems();\n    if (stats.isEmpty()) {\n      return null;\n    }\n    return m(\"div\", {\n      className: \"ImpactStats\"\n    }, m(\"div\", {\n      className: \"container\"\n    }, m(\"div\", {\n      className: \"ImpactStats-grid\"\n    }, stats.toArray())));\n  }\n  statsItems() {\n    const items = new ItemList();\n\n    // Supporters count\n    const supportersCount = app.forum.attribute('totalSupporters') || 0;\n    items.add('supporters', this.statItem({\n      icon: 'fas fa-users',\n      value: supportersCount,\n      label: extractText(app.translator.trans('flarum-discuss.forum.supporters.stats.supporters'))\n    }), 100);\n\n    // GitHub Stars\n    const githubStars = app.forum.attribute('githubStars') || 0;\n    items.add('github-stars', this.statItem({\n      icon: 'fab fa-github',\n      value: githubStars,\n      label: extractText(app.translator.trans('flarum-discuss.forum.supporters.stats.github_stars'))\n    }), 90);\n\n    // Framework Commits\n    const frameworkCommits = app.forum.attribute('frameworkCommits') || 0;\n    items.add('framework-commits', this.statItem({\n      icon: 'fas fa-code-branch',\n      value: frameworkCommits,\n      label: extractText(app.translator.trans('flarum-discuss.forum.supporters.stats.framework_commits'))\n    }), 80);\n\n    // Framework Contributors\n    const frameworkContributors = app.forum.attribute('frameworkContributors') || 0;\n    items.add('framework-contributors', this.statItem({\n      icon: 'fas fa-user-friends',\n      value: frameworkContributors,\n      label: extractText(app.translator.trans('flarum-discuss.forum.supporters.stats.framework_contributors'))\n    }), 70);\n    return items;\n  }\n  statItem(stat) {\n    return m(\"div\", {\n      className: \"ImpactStat\"\n    }, m(\"div\", {\n      className: \"ImpactStat-icon\"\n    }, m(\"i\", {\n      className: stat.icon,\n      \"aria-hidden\": \"true\"\n    })), m(\"div\", {\n      className: \"ImpactStat-content\"\n    }, m(\"div\", {\n      className: \"ImpactStat-value\"\n    }, abbreviateNumber(stat.value)), m(\"div\", {\n      className: \"ImpactStat-label\"\n    }, stat.label)));\n  }\n}\nflarum.reg.add('flarum-discuss', 'forum/components/ImpactStats', ImpactStats);","import Page from 'flarum/common/components/Page';\nimport PageStructure from 'flarum/forum/components/PageStructure';\nimport IndexSidebar from 'flarum/forum/components/IndexSidebar';\n/**\n * BaseInfoPage - A reusable base component for informational pages\n *\n * Provides:\n * - Consistent hero section with SVG background\n * - Standard page structure with sidebar\n * - Reusable hero styling\n *\n * Usage: Extend this class and implement contentItems() to add page content\n */\nexport default class BaseInfoPage extends Page {\n  view() {\n    return m(PageStructure, {\n      className: \"\".concat(this.pageClass(), \" InfoPage Page--vertical\"),\n      hero: this.hero.bind(this),\n      sidebar: this.sidebar.bind(this)\n    }, this.contentItems().toArray());\n  }\n\n  /**\n   * Override this to provide page-specific CSS class\n   */\n\n  /**\n   * Override this to provide page content\n   */\n\n  /**\n   * Hero section with gradient background\n   */\n  hero() {\n    const title = this.heroTitle();\n    const subtitle = this.heroSubtitle();\n    const ctaButton = this.heroCta();\n    return m(\"header\", {\n      className: \"InfoPage-hero Hero\"\n    }, m(\"div\", {\n      className: \"container\"\n    }, m(\"div\", {\n      className: \"InfoPage-heroContent\"\n    }, m(\"h1\", {\n      className: \"InfoPage-heroTitle\"\n    }, title), subtitle && m(\"p\", {\n      className: \"InfoPage-heroSubtitle\"\n    }, subtitle), ctaButton)));\n  }\n\n  /**\n   * Override to provide custom hero title\n   */\n\n  /**\n   * Override to provide custom hero subtitle (optional)\n   */\n  heroSubtitle() {\n    return null;\n  }\n\n  /**\n   * Override to provide custom hero CTA button (optional)\n   */\n  heroCta() {\n    return null;\n  }\n\n  /**\n   * Standard sidebar\n   */\n  sidebar() {\n    return m(IndexSidebar, null);\n  }\n}\nflarum.reg.add('flarum-discuss', 'forum/components/BaseInfoPage', BaseInfoPage);","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport Avatar from 'flarum/common/components/Avatar';\nimport username from 'flarum/common/helpers/username';\nimport Link from 'flarum/common/components/Link';\n/**\n * The `SupporterCard` component displays a user's avatar and username\n * in a card format for the supporters page.\n *\n * For featured supporters (monthly), the bio is also displayed if available.\n */\nexport default class SupporterCard extends Component {\n  view(vnode) {\n    const user = this.attrs.user;\n    const featured = this.attrs.featured || false;\n    return m(\"div\", {\n      className: \"SupporterCard\".concat(featured ? ' SupporterCard--featured' : '')\n    }, m(Link, {\n      href: app.route.user(user),\n      className: \"SupporterCard-link\"\n    }, m(\"div\", {\n      className: \"SupporterCard-avatar\"\n    }, m(Avatar, {\n      user: user,\n      loading: \"lazy\"\n    })), m(\"div\", {\n      className: \"SupporterCard-info\"\n    }, m(\"h3\", {\n      className: \"SupporterCard-username\"\n    }, username(user)), featured && this.renderBio(user))));\n  }\n  renderBio(user) {\n    // Try to get formatted HTML bio first (if fof/user-bio with formatting is enabled)\n    const bioHtml = user.attribute('bioHtml');\n    if (bioHtml && bioHtml.trim()) {\n      return m(\"div\", {\n        className: \"SupporterCard-bio\"\n      }, m.trust(bioHtml));\n    }\n\n    // Fall back to plain text bio\n    const bio = user.attribute('bio');\n    if (bio && bio.trim().length > 0) {\n      // Simple sanitization: escape HTML and convert newlines to <br>\n      const sanitizedBio = bio.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\n/g, '<br>');\n      return m(\"div\", {\n        className: \"SupporterCard-bio\"\n      }, m.trust(sanitizedBio));\n    }\n    return null;\n  }\n}\nflarum.reg.add('flarum-discuss', 'forum/components/SupporterCard', SupporterCard);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport app from 'flarum/forum/app';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport extractText from 'flarum/common/utils/extractText';\nimport Icon from 'flarum/common/components/Icon';\nimport Button from 'flarum/common/components/Button';\nimport BaseInfoPage from './BaseInfoPage';\nimport SupporterCard from './SupporterCard';\nimport ImpactStats from './ImpactStats';\nexport default class SupportersPage extends BaseInfoPage {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"loadingMonthly\", false);\n    _defineProperty(this, \"loadingOneTime\", false);\n    _defineProperty(this, \"monthlySupporers\", []);\n    _defineProperty(this, \"supporters\", []);\n  }\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    // Add page to navigation history\n    app.history.push('supporters', extractText(app.translator.trans('flarum-discuss.forum.supporters.title')));\n\n    // Set body class for styling\n    this.bodyClass = 'SupportersPage';\n\n    // Load supporters data\n    this.loadSupporters();\n  }\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    // Set page title and meta\n    app.setTitle(extractText(app.translator.trans('flarum-discuss.forum.supporters.meta_title')));\n    app.setTitleCount(0);\n\n    // Handle hash navigation (e.g., #donate)\n    this.handleHashNavigation();\n  }\n\n  /**\n   * Scroll to anchor if hash is present in URL\n   */\n  handleHashNavigation() {\n    const hash = window.location.hash;\n    if (hash) {\n      // Use setTimeout to ensure DOM is fully rendered, especially if sections are still loading\n      setTimeout(() => {\n        const element = document.querySelector(hash);\n        if (element) {\n          element.scrollIntoView({\n            behavior: 'smooth',\n            block: 'start'\n          });\n        }\n      }, 100);\n    }\n  }\n\n  /**\n   * Load supporters from the API using group membership\n   */\n  loadSupporters() {\n    // Check if we have preloaded data\n    const preloaded = app.preloadedApiDocument();\n    if (preloaded) {\n      this.processSupporters(preloaded);\n      return;\n    }\n    const monthlyGroupId = app.forum.attribute('monthlySupportersGroupId');\n    const oneTimeGroupId = app.forum.attribute('oneTimeSupportersGroupId');\n\n    // Load monthly supporters if group is configured\n    if (monthlyGroupId) {\n      this.loadingMonthly = true;\n      app.store.find('users', {\n        filter: {\n          q: \"group:\".concat(monthlyGroupId)\n        },\n        include: 'groups',\n        page: {\n          limit: 500\n        },\n        sort: '-commentCount'\n      }).then(monthly => {\n        this.monthlySupporers = Array.isArray(monthly) ? monthly : [];\n        this.loadingMonthly = false;\n        m.redraw();\n      }).catch(error => {\n        console.error('Error loading monthly supporters:', error);\n        this.loadingMonthly = false;\n        m.redraw();\n      });\n    }\n\n    // Load one-time supporters if group is configured\n    if (oneTimeGroupId) {\n      this.loadingOneTime = true;\n      app.store.find('users', {\n        filter: {\n          q: \"group:\".concat(oneTimeGroupId)\n        },\n        include: 'groups',\n        page: {\n          limit: 500\n        },\n        sort: '-commentCount'\n      }).then(oneTime => {\n        this.supporters = Array.isArray(oneTime) ? oneTime : [];\n        this.loadingOneTime = false;\n        m.redraw();\n      }).catch(error => {\n        console.error('Error loading one-time supporters:', error);\n        this.loadingOneTime = false;\n        m.redraw();\n      });\n    }\n  }\n  processSupporters(data) {\n    // Process preloaded data if needed\n    // Split into monthly and one-time supporters based on group membership\n    const monthlyGroupId = app.forum.attribute('monthlySupportersGroupId');\n    const oneTimeGroupId = app.forum.attribute('oneTimeSupportersGroupId');\n\n    // Monthly supporters\n    this.monthlySupporers = data.filter(user => {\n      const groups = user.groups();\n      return groups && Array.isArray(groups) && groups.some(group => (group == null ? void 0 : group.id()) === monthlyGroupId);\n    });\n\n    // One-time supporters\n    this.supporters = data.filter(user => {\n      const groups = user.groups();\n      return groups && Array.isArray(groups) && groups.some(group => (group == null ? void 0 : group.id()) === oneTimeGroupId);\n    });\n  }\n  pageClass() {\n    return 'SupportersPage';\n  }\n  heroTitle() {\n    return app.translator.trans('flarum-discuss.forum.supporters.hero_title');\n  }\n  heroSubtitle() {\n    return app.translator.trans('flarum-discuss.forum.supporters.hero_subtitle');\n  }\n  contentItems() {\n    const items = new ItemList();\n    items.add('introduction', this.introSection(), 100);\n\n    // Add impact stats section\n    items.add('impactStats', m(ImpactStats, null), 95);\n\n    // Always show monthly section if group is configured\n    const monthlyGroupId = app.forum.attribute('monthlySupportersGroupId');\n    if (monthlyGroupId) {\n      items.add('monthlySupporers', this.monthlySupportersSection(), 90);\n    }\n\n    // Always show supporters section if group is configured\n    const oneTimeGroupId = app.forum.attribute('oneTimeSupportersGroupId');\n    if (oneTimeGroupId) {\n      items.add('supporters', this.supportersSection(), 80);\n    }\n\n    // Add \"how to appear\" section\n    items.add('howToAppear', this.howToAppearSection(), 70);\n    return items;\n  }\n\n  /**\n   * Introduction section with thank you message\n   */\n  introSection() {\n    return m(\"div\", {\n      className: \"SupportersPage-intro\"\n    }, m(\"div\", {\n      className: \"SupportersPage-introContent\"\n    }, m(\"div\", {\n      className: \"SupportersPage-introImage\"\n    }, m(\"img\", {\n      src: \"/assets/extensions/flarum-discuss/heart-community.avif\",\n      alt: \"Community supporters\",\n      loading: \"lazy\"\n    })), m(\"div\", {\n      className: \"SupportersPage-introText\"\n    }, m(\"p\", null, app.translator.trans('flarum-discuss.forum.supporters.intro_text')), m(\"div\", {\n      className: \"SupportersPage-introActions\"\n    }, m(Button, {\n      icon: \"fas fa-heart\",\n      className: \"Button Button--primary\",\n      onclick: () => m.route.set(app.route('contribute'))\n    }, app.translator.trans('flarum-discuss.forum.supporters.become_supporter_button'))))));\n  }\n\n  /**\n   * Monthly supporters section - show all supporters in a grid (4 per row)\n   */\n  monthlySupportersSection() {\n    return m(\"div\", {\n      className: \"SupportersPage-section SupportersPage-monthlySection\"\n    }, m(\"div\", {\n      className: \"SupportersPage-container\"\n    }, m(\"div\", {\n      className: \"SupportersPage-sectionHeader\"\n    }, m(\"h2\", {\n      className: \"SupportersPage-sectionTitle\"\n    }, m(Icon, {\n      name: \"fas fa-star\"\n    }), app.translator.trans('flarum-discuss.forum.supporters.monthly_supporters_title')), m(\"p\", {\n      className: \"SupportersPage-sectionDescription\"\n    }, app.translator.trans('flarum-discuss.forum.supporters.monthly_supporters_description'))), m(\"div\", {\n      className: \"SupporterCards SupporterCards--grid\"\n    }, this.loadingMonthly ? m(LoadingIndicator, null) : this.monthlySupporers.length > 0 ? this.monthlySupporers.map(user => m(SupporterCard, {\n      user: user,\n      featured: true\n    })) : m(\"div\", {\n      className: \"SupportersPage-emptyState\"\n    }, m(Icon, {\n      name: \"fas fa-heart\"\n    }), m(\"p\", null, app.translator.trans('flarum-discuss.forum.supporters.no_monthly_yet'))))));\n  }\n\n  /**\n   * One-time and previous supporters section\n   */\n  supportersSection() {\n    return m(\"div\", {\n      className: \"SupportersPage-section\"\n    }, m(\"div\", {\n      className: \"SupportersPage-container\"\n    }, m(\"div\", {\n      className: \"SupportersPage-sectionHeader\"\n    }, m(\"h2\", {\n      className: \"SupportersPage-sectionTitle\"\n    }, m(Icon, {\n      name: \"fas fa-heart\"\n    }), app.translator.trans('flarum-discuss.forum.supporters.supporters_title')), m(\"p\", {\n      className: \"SupportersPage-sectionDescription\"\n    }, app.translator.trans('flarum-discuss.forum.supporters.supporters_description'))), m(\"div\", {\n      className: \"SupporterCards SupporterCards--grid\"\n    }, this.loadingOneTime ? m(LoadingIndicator, null) : this.supporters.length > 0 ? this.supporters.map(user => m(SupporterCard, {\n      user: user\n    })) : m(\"div\", {\n      className: \"SupportersPage-emptyState\"\n    }, m(Icon, {\n      name: \"fas fa-heart\"\n    }), m(\"p\", null, app.translator.trans('flarum-discuss.forum.supporters.no_supporters_yet'))))));\n  }\n\n  /**\n   * How to appear on this page section\n   */\n  howToAppearSection() {\n    return m(\"div\", {\n      className: \"SupportersPage-section SupportersPage-howToAppear\"\n    }, m(\"div\", {\n      className: \"SupportersPage-container\"\n    }, m(\"div\", {\n      className: \"SupportersPage-sectionHeader\"\n    }, m(\"h2\", {\n      className: \"SupportersPage-sectionTitle\"\n    }, m(Icon, {\n      name: \"fas fa-question-circle\"\n    }), app.translator.trans('flarum-discuss.forum.supporters.how_to_appear_title')), m(\"p\", {\n      className: \"SupportersPage-sectionDescription\"\n    }, app.translator.trans('flarum-discuss.forum.supporters.how_to_appear_description'))), m(\"div\", {\n      className: \"HowToAppear\"\n    }, m(\"div\", {\n      className: \"HowToAppear-requirements\"\n    }, m(\"div\", {\n      className: \"HowToAppear-requirement\"\n    }, m(\"div\", {\n      className: \"HowToAppear-requirementIcon\"\n    }, m(Icon, {\n      name: \"fas fa-user-circle\"\n    })), m(\"h3\", {\n      className: \"HowToAppear-requirementTitle\"\n    }, app.translator.trans('flarum-discuss.forum.supporters.requirement_account_title')), m(\"p\", {\n      className: \"HowToAppear-requirementText\"\n    }, app.translator.trans('flarum-discuss.forum.supporters.requirement_account_text'))), m(\"div\", {\n      className: \"HowToAppear-requirement\"\n    }, m(\"div\", {\n      className: \"HowToAppear-requirementIcon\"\n    }, m(Icon, {\n      name: \"fab fa-github\"\n    })), m(\"h3\", {\n      className: \"HowToAppear-requirementTitle\"\n    }, app.translator.trans('flarum-discuss.forum.supporters.requirement_github_title')), m(\"p\", {\n      className: \"HowToAppear-requirementText\"\n    }, app.translator.trans('flarum-discuss.forum.supporters.requirement_github_text'))), m(\"div\", {\n      className: \"HowToAppear-requirement\"\n    }, m(\"div\", {\n      className: \"HowToAppear-requirementIcon\"\n    }, m(Icon, {\n      name: \"fas fa-hand-holding-heart\"\n    })), m(\"h3\", {\n      className: \"HowToAppear-requirementTitle\"\n    }, app.translator.trans('flarum-discuss.forum.supporters.requirement_opencollective_title')), m(\"p\", {\n      className: \"HowToAppear-requirementText\"\n    }, app.translator.trans('flarum-discuss.forum.supporters.requirement_opencollective_text')))))));\n  }\n}\nflarum.reg.add('flarum-discuss', 'forum/components/SupportersPage', SupportersPage);"],"names":["ImpactStats","view","vnode","stats","this","statsItems","isEmpty","m","className","toArray","items","supportersCount","attribute","add","statItem","icon","value","label","trans","githubStars","frameworkCommits","frameworkContributors","stat","flarum","reg","BaseInfoPage","concat","pageClass","hero","bind","sidebar","contentItems","title","heroTitle","subtitle","heroSubtitle","ctaButton","heroCta","_typeof","o","Symbol","iterator","constructor","prototype","_defineProperty","e","r","t","i","toPrimitive","call","TypeError","String","toPropertyKey","Object","defineProperty","enumerable","configurable","writable","SupporterCard","user","attrs","featured","href","loading","renderBio","bioHtml","trim","trust","bio","length","sanitizedBio","replace","SupportersPage","super","arguments","oninit","push","bodyClass","loadSupporters","oncreate","handleHashNavigation","hash","window","location","setTimeout","element","document","querySelector","scrollIntoView","behavior","block","preloaded","processSupporters","monthlyGroupId","oneTimeGroupId","loadingMonthly","find","filter","q","include","page","limit","sort","then","monthly","monthlySupporers","Array","isArray","redraw","catch","error","console","loadingOneTime","oneTime","supporters","data","groups","some","group","id","introSection","monthlySupportersSection","supportersSection","howToAppearSection","src","alt","onclick","route","set","name","map"],"ignoreList":[],"sourceRoot":""}