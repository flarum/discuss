(()=>{var t={n:r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return t.d(e,{a:e}),e},d:(r,e)=>{for(var s in e)t.o(e,s)&&!t.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:e[s]})},o:(t,r)=>Object.prototype.hasOwnProperty.call(t,r),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},r={};(()=>{"use strict";t.r(r),t.d(r,{extend:()=>R});const e=flarum.reg.get("core","common/app");t.n(e)().initializers.add("flarum-discuss-common",()=>{});const s=flarum.reg.get("core","forum/app");var a=t.n(s);const o=flarum.reg.get("core","common/extend"),n=flarum.reg.get("core","forum/components/IndexSidebar");var i=t.n(n);const u=flarum.reg.get("core","common/components/LinkButton");var c=t.n(u);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function p(t,r,e){return(r=function(t){var r=function(t){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,"string");if("object"!=l(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(r)?r:r+""}(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}const d=flarum.reg.get("core","common/components/LoadingIndicator");var f=t.n(d);const g=flarum.reg.get("core","common/utils/ItemList");var h=t.n(g);const b=flarum.reg.get("core","common/utils/extractText");var v=t.n(b);const N=flarum.reg.get("core","common/components/Icon");var S=t.n(N);const y=flarum.reg.get("core","common/components/Button");var _=t.n(y);const T=flarum.reg.get("core","common/components/Page");var P=t.n(T);const C=flarum.reg.get("core","forum/components/PageStructure");var w=t.n(C);class I extends(P()){view(){return m(w(),{className:"".concat(this.pageClass()," InfoPage Page--vertical"),hero:this.hero.bind(this),sidebar:this.sidebar.bind(this)},this.contentItems().toArray())}hero(){const t=this.heroTitle(),r=this.heroSubtitle(),e=this.heroCta();return m("header",{className:"InfoPage-hero Hero"},m("div",{className:"container"},m("div",{className:"InfoPage-heroContent"},m("h1",{className:"InfoPage-heroTitle"},t),r&&m("p",{className:"InfoPage-heroSubtitle"},r),e)))}heroSubtitle(){return null}heroCta(){return null}sidebar(){return m(i(),null)}}flarum.reg.add("flarum-discuss","forum/components/BaseInfoPage",I);const A=flarum.reg.get("core","common/Component");var k=t.n(A);const x=flarum.reg.get("core","common/components/Avatar");var L=t.n(x);const q=flarum.reg.get("core","common/helpers/username");var H=t.n(q);const U=flarum.reg.get("core","common/components/Link");var D=t.n(U);class F extends(k()){view(t){const r=this.attrs.user,e=this.attrs.featured||!1;return m("div",{className:"SupporterCard".concat(e?" SupporterCard--featured":"")},m(D(),{href:a().route.user(r),className:"SupporterCard-link"},m("div",{className:"SupporterCard-avatar"},m(L(),{user:r,loading:"lazy"})),m("div",{className:"SupporterCard-info"},m("h3",{className:"SupporterCard-username"},H()(r)),e&&this.renderBio(r))))}renderBio(t){const r=t.attribute("bioHtml");if(r&&r.trim())return m("div",{className:"SupporterCard-bio"},m.trust(r));const e=t.attribute("bio");if(e&&e.trim().length>0){const t=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>");return m("div",{className:"SupporterCard-bio"},m.trust(t))}return null}}flarum.reg.add("flarum-discuss","forum/components/SupporterCard",F);const O=flarum.reg.get("core","common/utils/abbreviateNumber");var M=t.n(O);class j extends(k()){view(t){const r=this.statsItems();return r.isEmpty()?null:m("div",{className:"ImpactStats"},m("div",{className:"container"},m("div",{className:"ImpactStats-grid"},r.toArray())))}statsItems(){const t=new(h()),r=a().forum.attribute("totalSupporters")||0;t.add("supporters",this.statItem({icon:"fas fa-users",value:r,label:v()(a().translator.trans("flarum-discuss.forum.supporters.stats.supporters"))}),100);const e=a().forum.attribute("githubStars")||0;t.add("github-stars",this.statItem({icon:"fab fa-github",value:e,label:v()(a().translator.trans("flarum-discuss.forum.supporters.stats.github_stars"))}),90);const s=a().forum.attribute("frameworkCommits")||0;t.add("framework-commits",this.statItem({icon:"fas fa-code-branch",value:s,label:v()(a().translator.trans("flarum-discuss.forum.supporters.stats.framework_commits"))}),80);const o=a().forum.attribute("frameworkContributors")||0;return t.add("framework-contributors",this.statItem({icon:"fas fa-user-friends",value:o,label:v()(a().translator.trans("flarum-discuss.forum.supporters.stats.framework_contributors"))}),70),t}statItem(t){return m("div",{className:"ImpactStat"},m("div",{className:"ImpactStat-icon"},m("i",{className:t.icon,"aria-hidden":"true"})),m("div",{className:"ImpactStat-content"},m("div",{className:"ImpactStat-value"},M()(t.value)),m("div",{className:"ImpactStat-label"},t.label)))}}flarum.reg.add("flarum-discuss","forum/components/ImpactStats",j);class B extends I{constructor(){super(...arguments),p(this,"loadingMonthly",!1),p(this,"loadingOneTime",!1),p(this,"monthlySupporers",[]),p(this,"supporters",[])}oninit(t){super.oninit(t),a().history.push("supporters",v()(a().translator.trans("flarum-discuss.forum.supporters.title"))),this.bodyClass="SupportersPage",this.loadSupporters()}oncreate(t){super.oncreate(t),a().setTitle(v()(a().translator.trans("flarum-discuss.forum.supporters.meta_title"))),a().setTitleCount(0),this.handleHashNavigation()}handleHashNavigation(){const t=window.location.hash;t&&setTimeout(()=>{const r=document.querySelector(t);r&&r.scrollIntoView({behavior:"smooth",block:"start"})},100)}loadSupporters(){const t=a().preloadedApiDocument();if(t)return void this.processSupporters(t);const r=a().forum.attribute("monthlySupportersGroupId"),e=a().forum.attribute("oneTimeSupportersGroupId");r&&(this.loadingMonthly=!0,a().store.find("users",{filter:{q:"group:".concat(r)},include:"groups",page:{limit:500},sort:"-commentCount"}).then(t=>{this.monthlySupporers=Array.isArray(t)?t:[],this.loadingMonthly=!1,m.redraw()}).catch(t=>{console.error("Error loading monthly supporters:",t),this.loadingMonthly=!1,m.redraw()})),e&&(this.loadingOneTime=!0,a().store.find("users",{filter:{q:"group:".concat(e)},include:"groups",page:{limit:500},sort:"-commentCount"}).then(t=>{this.supporters=Array.isArray(t)?t:[],this.loadingOneTime=!1,m.redraw()}).catch(t=>{console.error("Error loading one-time supporters:",t),this.loadingOneTime=!1,m.redraw()}))}processSupporters(t){const r=a().forum.attribute("monthlySupportersGroupId"),e=a().forum.attribute("oneTimeSupportersGroupId");this.monthlySupporers=t.filter(t=>{const e=t.groups();return e&&Array.isArray(e)&&e.some(t=>(null==t?void 0:t.id())===r)}),this.supporters=t.filter(t=>{const r=t.groups();return r&&Array.isArray(r)&&r.some(t=>(null==t?void 0:t.id())===e)})}pageClass(){return"SupportersPage"}heroTitle(){return a().translator.trans("flarum-discuss.forum.supporters.hero_title")}heroSubtitle(){return a().translator.trans("flarum-discuss.forum.supporters.hero_subtitle")}contentItems(){const t=new(h());return t.add("introduction",this.introSection(),100),t.add("impactStats",m(j,null),95),a().forum.attribute("monthlySupportersGroupId")&&t.add("monthlySupporers",this.monthlySupportersSection(),90),a().forum.attribute("oneTimeSupportersGroupId")&&t.add("supporters",this.supportersSection(),80),t.add("howToAppear",this.howToAppearSection(),70),t}introSection(){return m("div",{className:"SupportersPage-intro"},m("div",{className:"SupportersPage-introContent"},m("div",{className:"SupportersPage-introImage"},m("img",{src:"/assets/extensions/flarum-discuss/heart-community.avif",alt:"Community supporters",loading:"lazy"})),m("div",{className:"SupportersPage-introText"},m("p",null,a().translator.trans("flarum-discuss.forum.supporters.intro_text")),m("div",{className:"SupportersPage-introActions"},m(_(),{icon:"fas fa-heart",className:"Button Button--primary",onclick:()=>m.route.set(a().route("contribute"))},a().translator.trans("flarum-discuss.forum.supporters.become_supporter_button"))))))}monthlySupportersSection(){return m("div",{className:"SupportersPage-section SupportersPage-monthlySection"},m("div",{className:"SupportersPage-container"},m("div",{className:"SupportersPage-sectionHeader"},m("h2",{className:"SupportersPage-sectionTitle"},m(S(),{name:"fas fa-star"}),a().translator.trans("flarum-discuss.forum.supporters.monthly_supporters_title")),m("p",{className:"SupportersPage-sectionDescription"},a().translator.trans("flarum-discuss.forum.supporters.monthly_supporters_description"))),m("div",{className:"SupporterCards SupporterCards--grid"},this.loadingMonthly?m(f(),null):this.monthlySupporers.length>0?this.monthlySupporers.map(t=>m(F,{user:t,featured:!0})):m("div",{className:"SupportersPage-emptyState"},m(S(),{name:"fas fa-heart"}),m("p",null,a().translator.trans("flarum-discuss.forum.supporters.no_monthly_yet"))))))}supportersSection(){return m("div",{className:"SupportersPage-section"},m("div",{className:"SupportersPage-container"},m("div",{className:"SupportersPage-sectionHeader"},m("h2",{className:"SupportersPage-sectionTitle"},m(S(),{name:"fas fa-heart"}),a().translator.trans("flarum-discuss.forum.supporters.supporters_title")),m("p",{className:"SupportersPage-sectionDescription"},a().translator.trans("flarum-discuss.forum.supporters.supporters_description"))),m("div",{className:"SupporterCards SupporterCards--grid"},this.loadingOneTime?m(f(),null):this.supporters.length>0?this.supporters.map(t=>m(F,{user:t})):m("div",{className:"SupportersPage-emptyState"},m(S(),{name:"fas fa-heart"}),m("p",null,a().translator.trans("flarum-discuss.forum.supporters.no_supporters_yet"))))))}howToAppearSection(){return m("div",{className:"SupportersPage-section SupportersPage-howToAppear"},m("div",{className:"SupportersPage-container"},m("div",{className:"SupportersPage-sectionHeader"},m("h2",{className:"SupportersPage-sectionTitle"},m(S(),{name:"fas fa-question-circle"}),a().translator.trans("flarum-discuss.forum.supporters.how_to_appear_title")),m("p",{className:"SupportersPage-sectionDescription"},a().translator.trans("flarum-discuss.forum.supporters.how_to_appear_description"))),m("div",{className:"HowToAppear"},m("div",{className:"HowToAppear-requirements"},m("div",{className:"HowToAppear-requirement"},m("div",{className:"HowToAppear-requirementIcon"},m(S(),{name:"fas fa-user-circle"})),m("h3",{className:"HowToAppear-requirementTitle"},a().translator.trans("flarum-discuss.forum.supporters.requirement_account_title")),m("p",{className:"HowToAppear-requirementText"},a().translator.trans("flarum-discuss.forum.supporters.requirement_account_text"))),m("div",{className:"HowToAppear-requirement"},m("div",{className:"HowToAppear-requirementIcon"},m(S(),{name:"fab fa-github"})),m("h3",{className:"HowToAppear-requirementTitle"},a().translator.trans("flarum-discuss.forum.supporters.requirement_github_title")),m("p",{className:"HowToAppear-requirementText"},a().translator.trans("flarum-discuss.forum.supporters.requirement_github_text"))),m("div",{className:"HowToAppear-requirement"},m("div",{className:"HowToAppear-requirementIcon"},m(S(),{name:"fas fa-hand-holding-heart"})),m("h3",{className:"HowToAppear-requirementTitle"},a().translator.trans("flarum-discuss.forum.supporters.requirement_opencollective_title")),m("p",{className:"HowToAppear-requirementText"},a().translator.trans("flarum-discuss.forum.supporters.requirement_opencollective_text")))))))}}flarum.reg.add("flarum-discuss","forum/components/SupportersPage",B);class G extends(k()){view(t){const r=a().forum.attribute("githubSponsorsUrl"),e=a().forum.attribute("openCollectiveUrl");return m("div",{className:"DonationLinks",id:"donate"},m("div",{className:"DonationLinks-container"},m("h2",{className:"DonationLinks-heading"},a().translator.trans("flarum-discuss.forum.supporters.donate_heading")),m("p",{className:"DonationLinks-description"},a().translator.trans("flarum-discuss.forum.supporters.donate_description")),m("div",{className:"DonationLinks-buttons"},r&&m(D(),{href:r,className:"DonationLink",external:!0},m("div",{className:"DonationLink-icon"},m("i",{className:"fab fa-github"})),m("div",{className:"DonationLink-content"},m("h3",{className:"DonationLink-title"},a().translator.trans("flarum-discuss.forum.supporters.github_sponsors")),m("p",{className:"DonationLink-subtitle"},a().translator.trans("flarum-discuss.forum.supporters.github_sponsors_description"))),m("div",{className:"DonationLink-arrow"},m("i",{className:"fas fa-arrow-right"}))),e&&m(D(),{href:e,className:"DonationLink",external:!0},m("div",{className:"DonationLink-icon"},m("i",{className:"fas fa-hands-helping"})),m("div",{className:"DonationLink-content"},m("h3",{className:"DonationLink-title"},a().translator.trans("flarum-discuss.forum.supporters.open_collective")),m("p",{className:"DonationLink-subtitle"},a().translator.trans("flarum-discuss.forum.supporters.open_collective_description"))),m("div",{className:"DonationLink-arrow"},m("i",{className:"fas fa-arrow-right"}))))))}}flarum.reg.add("flarum-discuss","forum/components/DonationLinks",G);class E extends I{oninit(t){super.oninit(t),a().history.push("contribute",v()(a().translator.trans("flarum-discuss.forum.contribute.title"))),this.bodyClass="ContributePage"}oncreate(t){super.oncreate(t),a().setTitle(v()(a().translator.trans("flarum-discuss.forum.contribute.meta_title"))),a().setTitleCount(0)}pageClass(){return"ContributePage"}heroTitle(){return a().translator.trans("flarum-discuss.forum.contribute.hero_title")}heroSubtitle(){return a().translator.trans("flarum-discuss.forum.contribute.hero_subtitle")}contentItems(){const t=new(h());return t.add("contributionTypes",this.contributionTypesSection(),100),t.add("impactStats",m(j,null),90),t.add("fundingUse",this.fundingUseSection(),85),t.add("donate",this.donationSection(),80),t}contributionTypesSection(){return m("div",{className:"ContributePage-contributionTypes"},m("div",{className:"container"},m("div",{className:"InfoPage-sectionHeader"},m("h2",{className:"InfoPage-sectionTitle"},a().translator.trans("flarum-discuss.forum.contribute.heading")),m("p",{className:"InfoPage-sectionLead"},a().translator.trans("flarum-discuss.forum.contribute.description"))),m("div",{className:"ContributePage-typeGrid"},m("div",{className:"ContributionType"},m("div",{className:"ContributionType-icon"},m(S(),{name:"fas fa-code"})),m("h3",{className:"ContributionType-title"},a().translator.trans("flarum-discuss.forum.contribute.type_code_title")),m("p",{className:"ContributionType-description"},a().translator.trans("flarum-discuss.forum.contribute.type_code_desc"))),m("div",{className:"ContributionType"},m("div",{className:"ContributionType-icon"},m(S(),{name:"fas fa-book"})),m("h3",{className:"ContributionType-title"},a().translator.trans("flarum-discuss.forum.contribute.type_docs_title")),m("p",{className:"ContributionType-description"},a().translator.trans("flarum-discuss.forum.contribute.type_docs_desc"))),m("div",{className:"ContributionType"},m("div",{className:"ContributionType-icon"},m(S(),{name:"fas fa-language"})),m("h3",{className:"ContributionType-title"},a().translator.trans("flarum-discuss.forum.contribute.type_i18n_title")),m("p",{className:"ContributionType-description"},a().translator.trans("flarum-discuss.forum.contribute.type_i18n_desc"))),m("div",{className:"ContributionType"},m("div",{className:"ContributionType-icon"},m(S(),{name:"fas fa-heart"})),m("h3",{className:"ContributionType-title"},a().translator.trans("flarum-discuss.forum.contribute.type_financial_title")),m("p",{className:"ContributionType-description"},a().translator.trans("flarum-discuss.forum.contribute.type_financial_desc"))))))}fundingUseSection(){return m("div",{className:"ContributePage-fundingUse"},m("div",{className:"container"},m("div",{className:"InfoPage-sectionHeader"},m("h2",{className:"InfoPage-sectionTitle"},a().translator.trans("flarum-discuss.forum.contribute.funding_use_title")),m("p",{className:"InfoPage-sectionLead"},a().translator.trans("flarum-discuss.forum.contribute.funding_use_description"))),m("div",{className:"FundingUse-grid"},m("div",{className:"FundingUse-item"},m("div",{className:"FundingUse-icon"},m(S(),{name:"fas fa-laptop-code"})),m("h3",{className:"FundingUse-title"},a().translator.trans("flarum-discuss.forum.contribute.funding_development_title")),m("p",{className:"FundingUse-description"},a().translator.trans("flarum-discuss.forum.contribute.funding_development_desc"))),m("div",{className:"FundingUse-item"},m("div",{className:"FundingUse-icon"},m(S(),{name:"fas fa-shield-alt"})),m("h3",{className:"FundingUse-title"},a().translator.trans("flarum-discuss.forum.contribute.funding_security_title")),m("p",{className:"FundingUse-description"},a().translator.trans("flarum-discuss.forum.contribute.funding_security_desc"))),m("div",{className:"FundingUse-item"},m("div",{className:"FundingUse-icon"},m(S(),{name:"fas fa-gift"})),m("h3",{className:"FundingUse-title"},a().translator.trans("flarum-discuss.forum.contribute.funding_bounties_title")),m("p",{className:"FundingUse-description"},a().translator.trans("flarum-discuss.forum.contribute.funding_bounties_desc"))),m("div",{className:"FundingUse-item"},m("div",{className:"FundingUse-icon"},m(S(),{name:"fas fa-server"})),m("h3",{className:"FundingUse-title"},a().translator.trans("flarum-discuss.forum.contribute.funding_operations_title")),m("p",{className:"FundingUse-description"},a().translator.trans("flarum-discuss.forum.contribute.funding_operations_desc"))))))}donationSection(){return m(G,null)}}flarum.reg.add("flarum-discuss","forum/components/ContributePage",E);const z=flarum.reg.get("core","common/extenders"),R=[(new(t.n(z)().Routes)).add("supporters","/supporters",B).add("contribute","/contribute",E)];a().initializers.add("flarum-discuss",()=>{(0,o.extend)(i().prototype,"navItems",function(t){t.add("supporters",m(c(),{icon:"fas fa-heart",href:a().route("supporters")},a().translator.trans("flarum-discuss.forum.supporters.title")),15),t.add("contribute",m(c(),{icon:"fas fa-hands-helping",href:a().route("contribute")},a().translator.trans("flarum-discuss.forum.contribute.title")),14),(a().current.matches(B)||a().current.matches(E))&&(t.remove("separator"),t.toArray().forEach(r=>{const e=r.itemName;e&&e.toString().startsWith("tag")&&"tags"!==e&&t.remove(e.toString())}),t.remove("moreTags"))})})})(),module.exports=r})();
//# sourceMappingURL=forum.js.map